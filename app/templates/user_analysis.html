{% extends "base.html" %}

{% block title %}Analysis for {{ username }} - Learn Chess Like a Computer{% endblock %}

{% block content %}
<div class="hero">
    <h1>Analysis for {{ username }}</h1>
    <p class="hero-subtitle">Found {{ games_count }} games to analyze</p>
</div>

<section class="analysis-preview">
    <div class="container">
        <div class="analysis-status">
            <h2>Games Retrieved Successfully</h2>
            <p>We've successfully connected to your Lichess account and retrieved {{ games_count }} games for analysis.</p>

            {% if games_count > 0 %}
            <div class="games-status">
                <h3>Games Retrieved Successfully</h3>
                <p>We've successfully fetched {{ games_count }} games from your Lichess account and prepared them for analysis.</p>
            </div>


            <div class="analysis-next-steps">
                <h3>Ready for Full Analysis</h3>
                <p>Your games have been successfully retrieved. The next step would be to process this data for:</p>
                <ul>
                    <li>Opening repertoire analysis</li>
                    <li>Performance statistics</li>
                    <li>Tactical pattern recognition</li>
                    <li>Rating progression analysis</li>
                </ul>

                <div class="analysis-actions">
                    <a href="{{ url_for('main.generate_analysis_report', username=username) }}" class="btn btn-primary">View Analysis Report (Free Preview)</a>
                    <a href="#" class="btn btn-primary">Purchase Full Analysis ($9.99)</a>
                    <a href="{{ url_for('main.analyze') }}" class="btn btn-secondary">Analyze Another Account</a>
                </div>
            </div>
            {% else %}
            <div class="no-games">
                <h3>No Games Found</h3>
                <p>We couldn't find any games for your account. This might be because:</p>
                <ul>
                    <li>Your account is very new</li>
                    <li>Your games are private</li>
                    <li>There was a temporary issue with the API</li>
                </ul>
                <a href="{{ url_for('main.lichess_login') }}" class="btn btn-primary">Try Again</a>
            </div>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}